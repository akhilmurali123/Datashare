"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{3140:(e,t,s)=>{s.d(t,{A:()=>h});var a=s(5155),l=s(2115),i=s(285),r=s(4165),n=s(2523),d=s(5057),c=s(8539),o=s(9409),m=s(3062);function h(e){let{isOpen:t,onClose:s,onStartSharing:h,initialDatasetName:x="",initialDescription:u="",initialTargetId:p=""}=e,[f,g]=(0,l.useState)(x),[j,y]=(0,l.useState)(u),[b,N]=(0,l.useState)(p);return(0,l.useEffect)(()=>{x&&g(x),u&&y(u),p&&N(p)},[x,u,p]),(0,a.jsx)(r.lG,{open:t,onOpenChange:e=>!e&&s(),children:(0,a.jsxs)(r.Cf,{className:"sm:max-w-lg",children:[(0,a.jsxs)(r.c7,{children:[(0,a.jsx)(r.L3,{children:"Share data"}),(0,a.jsx)(r.rr,{children:"Provide details for your new data share configuration."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(d.J,{htmlFor:"datasetName",className:"text-right",children:"Dataset name"}),(0,a.jsx)(n.p,{id:"datasetName",value:f,onChange:e=>g(e.target.value),className:"col-span-3",placeholder:"e.g., US Organizations Q3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(d.J,{htmlFor:"description",className:"text-right",children:"Description"}),(0,a.jsx)(c.T,{id:"description",value:j,onChange:e=>y(e.target.value),className:"col-span-3",placeholder:"Optional: Brief description of the dataset"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(d.J,{htmlFor:"target",className:"text-right",children:"Target"}),(0,a.jsxs)(o.l6,{value:b,onValueChange:N,children:[(0,a.jsx)(o.bq,{className:"col-span-3",children:(0,a.jsx)(o.yv,{placeholder:"Select data warehouse"})}),(0,a.jsx)(o.gC,{children:m.Gl.map(e=>(0,a.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]})]})]}),(0,a.jsxs)(r.Es,{children:[(0,a.jsx)(r.HM,{asChild:!0,children:(0,a.jsx)(i.$,{type:"button",variant:"outline",children:"Cancel"})}),(0,a.jsx)(i.$,{type:"button",onClick:()=>{if(!f||!b){alert("Dataset name and target are required.");return}let e=m.Gl.find(e=>e.id===b);e&&(h(f,j,e),g(""),y(""),N(""))},className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:!f||!b,children:"Start Sharing"})]})]})})}},3819:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(5155),l=s(7262),i=s(6695),r=s(6424),n=s(9434);function d(e){let{dataTypes:t,onDataTypeToggle:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col h-full p-6 bg-background",children:[" ",(0,a.jsxs)(i.aR,{className:"px-0 pt-0 pb-4 text-center",children:[" ",(0,a.jsx)(i.ZB,{className:"text-xl sm:text-2xl",children:"Select data types to include in the new data set"}),(0,a.jsx)(i.BT,{children:"Choose the types of data you want to share."})]}),(0,a.jsx)(r.F,{className:"flex-grow mb-6 pr-4 -mr-4",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto w-full",children:[" ",(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[" ",t.map(e=>(0,a.jsx)(i.Zp,{className:(0,n.cn)("cursor-pointer transition-all hover:shadow-lg",e.selected?"border-primary ring-0":"border-border"),onClick:()=>s(e.id),children:(0,a.jsxs)(i.Wu,{className:"p-4 flex items-center space-x-3",children:[(0,a.jsx)(l.S,{id:"dt-".concat(e.id),checked:e.selected,onCheckedChange:()=>s(e.id),className:"h-5 w-5","aria-labelledby":"label-dt-".concat(e.id)}),(0,a.jsx)("label",{htmlFor:"dt-".concat(e.id),id:"label-dt-".concat(e.id),className:"font-medium text-sm text-foreground flex-grow cursor-pointer",children:e.name})]})},e.id))]})]})})]})}},4165:(e,t,s)=>{s.d(t,{Cf:()=>h,Es:()=>u,HM:()=>o,L3:()=>p,c7:()=>x,lG:()=>d,rr:()=>f});var a=s(5155),l=s(2115),i=s(5452),r=s(5318),n=s(9434);let d=i.bL;i.l9;let c=i.ZL,o=i.bm,m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});m.displayName=i.hJ.displayName;let h=l.forwardRef((e,t)=>{let{className:s,children:l,showDefaultCloseButton:d=!0,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(i.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...o,children:[l,d&&(0,a.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(r.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=i.UC.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let u=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};u.displayName="DialogFooter";let p=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});p.displayName=i.hE.displayName;let f=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...l})});f.displayName=i.VY.displayName},6370:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5155),l=s(9434);function i(e){let{currentStep:t,steps:s}=e,i=s.findIndex(e=>e.id===t);return(0,a.jsx)("nav",{"aria-label":"Wizard progress",children:(0,a.jsx)("ol",{className:"flex items-center justify-center space-x-4 sm:space-x-8",children:s.map((e,t)=>(0,a.jsx)("li",{className:"relative flex items-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsx)("div",{className:(0,l.cn)("flex items-center justify-center w-8 h-8 rounded-full border-2",t<i?"bg-primary border-primary":"",t===i?"border-primary bg-primary scale-110":"border-border bg-card",t>i?"border-border bg-card":""),children:(0,a.jsx)("span",{className:(0,l.cn)("text-sm font-medium",t===i?"text-white":"text-black"),children:t+1})}),(0,a.jsx)("p",{className:(0,l.cn)("mt-1 text-xs sm:text-sm font-medium whitespace-nowrap",t===i?"text-primary":"text-muted-foreground"),children:e.label})]})},e.id))})})}},7717:(e,t,s)=>{s.d(t,{A:()=>g});var a=s(5155),l=s(285),i=s(7262),r=s(5127),n=s(7313),d=s(6424),c=s(594),o=s(3587),m=s(7607),h=s(8763),x=s(6102),u=s(5071),p=s(1409),f=s(2115);function g(e){let{selectedDataTypes:t,entityTypes:s,relationshipTypes:g,interactionTypes:j,otherDataTypes:y,onEntityTypeToggle:b,onRelationshipTypeToggle:N,onInteractionTypeToggle:v,onOtherDataTypeToggle:w,onAttributesChange:C,getSampleData:A,showAllTabs:k}=e;console.log("ConfigureDataStep Props:"),console.log("entityTypesProp:",s),console.log("relationshipTypesProp:",g),console.log("interactionTypesProp:",j),console.log("otherDataTypesProp:",y);let[S,T]=(0,f.useState)(!1),[E,I]=(0,f.useState)(null),[D,R]=(0,f.useState)("entity"),[F,L]=(0,f.useState)(!1),[z,$]=(0,f.useState)(null),M=e=>{b(e)},O=e=>{N(e)},P=e=>{v(e)},B=e=>{w(e)},V=(e,t)=>{let a;"entity"===t?a=s.find(t=>t.id===e):"relationship"===t?a=g.find(t=>t.id===e):"interaction"===t?a=j.find(t=>t.id===e):"other"===t&&(a=y.find(t=>t.id===e)),a&&(I(a),T(!0))};(0,f.useMemo)(()=>[...s.map(e=>({...e,category:"entity"})),...g.map(e=>({...e,category:"relationship"})),...j.map(e=>({...e,category:"interaction"})),...y.map(e=>({...e,category:"other"}))],[s,g,j,y]),(0,f.useMemo)(()=>[...s.filter(e=>e.selected),...g.filter(e=>e.selected),...j.filter(e=>e.selected),...y.filter(e=>e.selected)],[s,g,j,y]);let _=e=>{e.selected&&($(e),L(!0))},H=(e,t)=>{let s=t.filter(e=>e.selected);0!==s.length&&(1===s.length?$(s[0]):$(null),L(!0))},J=(e,t,s)=>{t.filter(e=>e.selected).length;let i="";if("entity"===e){let e=t.filter(e=>e.selected&&"count"in e).reduce((e,t)=>e+t.count,0);i="".concat(e.toLocaleString()," Profiles selected")}else if("relationship"===e){let e=t.filter(e=>e.selected&&"count"in e).reduce((e,t)=>e+t.count,0);i="".concat(e.toLocaleString()," Relationships selected")}else if("interaction"===e){let e=t.filter(e=>e.selected&&"count"in e).reduce((e,t)=>e+t.count,0);i="".concat(e.toLocaleString()," Interactions selected")}else"other"===e&&(i=t.filter(e=>e.selected).map(e=>{let t=e.count||0;return"".concat(t.toLocaleString()," ").concat(e.name)}).join(", ")||"No other data types selected");return(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 mb-1",children:[(0,a.jsx)("strong",{children:"Note:"})," All counts reflect the current data snapshot. The shared data will continue to update over time."]}),"relationship"===e&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-0.5 flex items-center",children:["Relationships among the selected entity profiles only",(0,a.jsx)(x.Bc,{children:(0,a.jsxs)(x.m_,{children:[(0,a.jsx)(x.k$,{asChild:!0,children:(0,a.jsx)(c.A,{className:"h-3 w-3 ml-1 text-muted-foreground cursor-pointer"})}),(0,a.jsx)(x.ZI,{side:"right",className:"max-w-xs",children:(0,a.jsx)("div",{children:"The list displays only the relationships among the entities selected in the previous step. To add other relationships, go back to the previous step and include the relevant entity type."})})]})})]}),"interaction"===e&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-0.5 flex items-center",children:["Interactions in which any of the selected entity profiles are members.",(0,a.jsx)(x.Bc,{children:(0,a.jsxs)(x.m_,{children:[(0,a.jsx)(x.k$,{asChild:!0,children:(0,a.jsx)(c.A,{className:"h-3 w-3 ml-1 text-muted-foreground cursor-pointer"})}),(0,a.jsx)(x.ZI,{side:"right",className:"max-w-xs",children:(0,a.jsx)("div",{children:"The list shows all interactions in which any of the entity types selected in the previous steps are members."})})]})})]}),(0,a.jsx)("p",{className:"text-lg font-semibold text-foreground mt-1",children:i})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:["other"!==e&&(0,a.jsxs)(l.$,{variant:"outline",onClick:()=>alert("Filters button clicked"),children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4"})," Filters"]}),(0,a.jsxs)(l.$,{variant:"outline",disabled:!t.some(e=>e.selected),onClick:()=>H(e,t),children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"})," View Sample Data"]})]})]})},Z=(e,t)=>0===t.length?(0,a.jsxs)("p",{className:"text-muted-foreground text-sm text-center py-10",children:["No ",e," types defined or available based on your selection."]}):(0,a.jsxs)(r.XI,{children:[(0,a.jsx)(r.A0,{children:(0,a.jsxs)(r.Hj,{children:[(0,a.jsx)(r.nd,{className:"w-[50px]",children:(0,a.jsx)(i.S,{disabled:!0,title:"Select all ".concat(e," types (not implemented)")})}),(0,a.jsx)(r.nd,{children:"Type"}),"relationship"===e&&(0,a.jsx)(r.nd,{children:"Related entities"}),"interaction"===e&&(0,a.jsx)(r.nd,{children:"Member types"}),(0,a.jsx)(r.nd,{className:"text-right",children:"Count"}),(0,a.jsx)(r.nd,{children:"Selected Attributes"}),(0,a.jsx)(r.nd,{className:"w-[60px] text-right",children:(0,a.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,a.jsx)(r.BF,{children:t.map(t=>(0,a.jsxs)(r.Hj,{"data-state":t.selected?"selected":"",children:[(0,a.jsxs)(r.nA,{className:"py-2",children:[" ",(0,a.jsx)(i.S,{checked:t.selected,onCheckedChange:()=>{"entity"===e?M(t.id):"relationship"===e?O(t.id):"interaction"===e?P(t.id):"other"===e&&B(t.id)},"aria-label":"Select ".concat(t.name)})]}),(0,a.jsxs)(r.nA,{className:"py-2",children:[" ",(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("span",{className:"flex items-center",children:t.name}),"other"===e&&(0,a.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground ml-2"})]})]}),"relationship"===e&&(0,a.jsx)(r.nA,{className:"text-muted-foreground py-2",children:t.relatedEntities}),"interaction"===e&&(0,a.jsx)(r.nA,{className:"text-muted-foreground py-2",children:t.memberTypes}),(0,a.jsx)(r.nA,{className:"text-right text-muted-foreground py-2",children:t.count.toLocaleString()}),(0,a.jsxs)(r.nA,{className:"text-muted-foreground text-left py-2 flex items-center gap-1",children:[" ",t.totalAttributes>0?"".concat(t.selectedAttributesCount,"/").concat(t.totalAttributes):"N/A",t.totalAttributes>0&&(0,a.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>V(t.id,e),className:"text-muted-foreground hover:text-primary focus:text-primary ml-1","aria-label":"Edit attributes for ".concat(t.name),disabled:0===t.totalAttributes,children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(r.nA,{className:"text-right py-2",children:[" ",(0,a.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>_(t),className:"text-muted-foreground hover:text-primary focus:text-primary","aria-label":"View sample data for ".concat(t.name),children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})]})]},t.id))})]}),G=(0,f.useMemo)(()=>{if(!E)return[];let e=E.category,t=[];return"entity"===e?t=s:"relationship"===e?t=g:"interaction"===e?t=j:"other"===e&&(t=y),t},[E,s,g,j,y]),U=(0,f.useMemo)(()=>{if(k)return[{value:"entity",label:"Entity types",items:s},{value:"relationship",label:"Relationships",items:g},{value:"interaction",label:"Interactions",items:j},{value:"other",label:"Other data types",items:y}];let e=[];if(t.find(e=>"entities"===e.id&&e.selected)&&e.push({value:"entity",label:"Entity types",items:s}),t.find(e=>"relationships"===e.id&&e.selected)&&e.push({value:"relationship",label:"Relationships",items:g}),t.find(e=>"interactions"===e.id&&e.selected)&&e.push({value:"interaction",label:"Interactions",items:j}),t.some(e=>["mergeTree","matchData","activityLog","workflowTasks"].includes(e.id)&&e.selected)){let s=y.filter(e=>t.some(t=>t.id===e.id&&t.selected));e.push({value:"other",label:"Other data types",items:s})}return e},[k,t,s,g,j,y]);return(0,f.useEffect)(()=>{U.length>0&&!U.find(e=>e.value===D)&&R(U[0].value),0===U.length&&R("")},[U,D]),(0,a.jsxs)("div",{className:"flex flex-col h-full p-6 bg-background",children:[(0,a.jsxs)(n.tU,{value:D,className:"flex-grow min-h-0 flex flex-col",onValueChange:e=>R(e),children:[(0,a.jsx)(n.j7,{className:"flex-shrink-0 bg-transparent p-0 h-auto border-b justify-start",children:U.map(e=>(0,a.jsx)(n.Xi,{value:e.value,className:"data-[state=active]:border-primary data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:text-primary pb-3.5 pt-0 mr-4 mb-[-1px] text-muted-foreground",children:e.label},e.value))}),(0,a.jsx)(d.F,{className:"flex-grow min-h-0",children:(0,a.jsx)("div",{className:"pt-6",children:U.map(e=>(0,a.jsxs)(n.av,{value:e.value,className:"m-0",children:[J(e.value,e.items,e.items.length),Z(e.value,e.items)]},e.value))})})]}),S&&E&&(0,a.jsx)(u.A,{isOpen:S,onClose:()=>T(!1),items:G,activeItem:E,onAttributesChange:(e,t,s)=>{C(e,t,s)},onSave:()=>{T(!1),I(null)},onActiveItemChange:(e,t)=>{console.log("onActiveItemChange called with:",e,t);let s=G.find(s=>s.id===e&&s.category===t);s&&I(s)}}),F&&(0,a.jsx)(p.A,{isOpen:F,onClose:()=>{L(!1),$(null)},selectedItems:(()=>{var e;let t=(null===(e=U.find(e=>e.value===D))||void 0===e?void 0:e.items)||[];return z?[z]:t.filter(e=>e.selected)})(),getSampleData:A,initialCategory:D})]})}},8539:(e,t,s)=>{s.d(t,{T:()=>r});var a=s(5155),l=s(2115),i=s(9434);let r=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});r.displayName="Textarea"}}]);