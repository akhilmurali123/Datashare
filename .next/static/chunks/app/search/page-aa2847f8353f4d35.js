(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{2165:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>er});var s=a(5155),i=a(2115),n=a(5695),r=a(7481),l=a(285),o=a(7262),c=a(2523),d=a(5057),p=a(6424),u=a(3478),m=a(9556),h=a(9434);let x=u.bL,f=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(u.q7,{ref:t,className:(0,h.cn)("border-b",a),...i})});f.displayName="AccordionItem";let g=i.forwardRef((e,t)=>{let{className:a,children:i,...n}=e;return(0,s.jsx)(u.Y9,{className:"flex",children:(0,s.jsxs)(u.l9,{ref:t,className:(0,h.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...n,children:[i,(0,s.jsx)(m.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});g.displayName=u.l9.displayName;let y=i.forwardRef((e,t)=>{let{className:a,children:i,...n}=e;return(0,s.jsx)(u.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:(0,s.jsx)("div",{className:(0,h.cn)("pb-4 pt-0",a),children:i})})});y.displayName=u.UC.displayName;var j=a(3158),b=a(5074);let v=[{id:"customers",label:"Customers",checked:!1},{id:"suppliers",label:"Suppliers",checked:!0},{id:"organizations",label:"Organizations",checked:!0},{id:"products",label:"Products",checked:!0},{id:"assets",label:"Assets",checked:!1},{id:"partners",label:"Partners",checked:!1},{id:"employees",label:"Employees",checked:!1}],N=[{id:"city",parent:"AddressNested",label:"City",values:["All values","New York","London","Tokyo"]},{id:"cityTier",parent:"AddressNested",label:"City Tier",values:["All values","Tier 1","Tier 2"]},{id:"district",parent:"AddressNested",label:"District",values:["All values","District A","District B"]}];function w(){let[e,t]=(0,i.useState)(v),[a,n]=(0,i.useState)(!1),r=e=>{t(t=>t.map(t=>t.id===e?{...t,checked:!t.checked}:t))},u=a?e:e.slice(0,5);return(0,s.jsxs)("aside",{className:"w-72 bg-card text-card-foreground p-4 flex flex-col h-full border-r",children:[(0,s.jsxs)(l.$,{variant:"outline",className:"w-full justify-between mb-4 text-sm",children:["ADVANCED SEARCH",(0,s.jsx)(j.A,{className:"h-4 w-4"})]}),(0,s.jsx)(p.F,{className:"flex-grow",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"QUICK FILTERS"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4 p-2 hover:bg-muted rounded-md cursor-pointer",children:[(0,s.jsx)(o.S,{id:"ov-only"}),(0,s.jsx)(d.J,{htmlFor:"ov-only",className:"text-sm font-normal cursor-pointer",children:"Search by OV only"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Entity types"}),(0,s.jsxs)("div",{className:"space-y-1",children:[u.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2 p-2 hover:bg-muted rounded-md cursor-pointer",children:[(0,s.jsx)(o.S,{id:e.id,checked:e.checked,onCheckedChange:()=>r(e.id)}),(0,s.jsx)(d.J,{htmlFor:e.id,className:"text-sm font-normal cursor-pointer flex-1",children:e.label})]},e.id)),e.length>5&&(0,s.jsxs)(l.$,{variant:"link",className:"p-2 text-primary h-auto text-sm",onClick:()=>n(!a),children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-1 transform transition-transform ".concat(a?"rotate-180":"")}),"View ",a?"less":"more"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Attributes"}),(0,s.jsxs)("div",{className:"relative mb-3",children:[(0,s.jsx)(b.A,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(c.p,{type:"search",placeholder:"Search & add attributes",className:"pl-9 h-9 text-sm"})]}),(0,s.jsx)(x,{type:"multiple",className:"w-full",children:N.map(e=>(0,s.jsxs)(f,{value:e.id,children:[(0,s.jsx)(g,{className:"text-sm py-2 hover:no-underline",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.parent}),e.label]})}),(0,s.jsx)(y,{className:"pb-2",children:(0,s.jsx)(c.p,{placeholder:"Select ".concat(e.label),className:"h-8 text-xs"})})]},e.id))})]})]})})]})}var T=a(2346);let S=(0,a(2085).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function D(e){let{className:t,variant:a,...i}=e;return(0,s.jsx)("div",{className:(0,h.cn)(S({variant:a}),t),...i})}var k=a(1314),C=a(7333),A=a(9119),E=a(8350),I=a(3638),R=a(5318),z=a(4165),O=a(8539),$=a(9409),J=a(3062),F=a(594),P=a(6102);function L(e){let{isOpen:t,onClose:a,onStartSharing:p,totalProfiles:u,entityTypeSummaries:m=[],onAdvancedShareClick:h}=e,[x,f]=(0,i.useState)(""),[g,y]=(0,i.useState)(""),[j,b]=(0,i.useState)(void 0),[v,N]=(0,i.useState)(!1),[w,T]=(0,i.useState)(!1),{toast:S}=(0,r.dj)(),k=(0,n.useRouter)();(0,i.useEffect)(()=>{t&&(f("Organizations, suppliers and products data share"),y(""),N(!1),T(!1),!j&&J.Gl.length>0&&b(J.Gl[0].id))},[t,j]);let C=m.slice(0,2),A=m.length-2,E=["".concat(u.toLocaleString()," profiles"),v&&"".concat(567..toLocaleString()," relationships"),w&&"".concat(5638..toLocaleString()," interactions")].filter(Boolean).join(", ");return(0,s.jsx)(z.lG,{open:t,onOpenChange:e=>{e||a()},children:(0,s.jsxs)(z.Cf,{className:"sm:max-w-2xl p-0",children:[(0,s.jsx)(z.c7,{className:"p-6 border-b",children:(0,s.jsx)(z.L3,{className:"text-lg font-semibold",children:"Quick data share"})}),(0,s.jsxs)("div",{className:"pt-4 px-6 pb-6 space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"quickDatasetName",className:"text-xs font-medium text-muted-foreground",children:"Dataset name*"}),(0,s.jsx)(c.p,{id:"quickDatasetName",value:x,onChange:e=>f(e.target.value),className:"mt-1",placeholder:"e.g., US Organization Q3"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"quickDescription",className:"text-xs font-medium text-muted-foreground",children:"Description"}),(0,s.jsx)(O.T,{id:"quickDescription",value:g,onChange:e=>y(e.target.value),className:"mt-1",rows:2,placeholder:"Optional: Brief description of the dataset"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Data to share"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Switch to advanced mode for editing"}),(0,s.jsx)(l.$,{variant:"link",className:"p-0 h-auto text-primary font-semibold text-xs",onClick:()=>h(v,w),children:"ADVANCED SHARE"})]})]}),(0,s.jsxs)("div",{className:"bg-muted/50 p-4 rounded-md space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Entity types:"}),C.map(e=>(0,s.jsxs)(D,{variant:"outline",className:"font-normal bg-background text-foreground border-border",children:[e.name,": ",e.selectedAttributes,"/",e.totalAttributes," attributes"]},e.name)),A>0&&(0,s.jsxs)(D,{variant:"outline",className:"font-normal bg-background text-foreground border-border",children:["+",A," more"]})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.S,{id:"includeRelationships",checked:v,onCheckedChange:e=>N(!!e)}),(0,s.jsx)(d.J,{htmlFor:"includeRelationships",className:"text-sm font-normal text-foreground cursor-pointer",children:"Include relationships between selected entities"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.S,{id:"includeInteractions",checked:w,onCheckedChange:e=>T(!!e)}),(0,s.jsx)(d.J,{htmlFor:"includeInteractions",className:"text-sm font-normal text-foreground cursor-pointer",children:"Include interactions in which selected entities are members"})]})]}),(0,s.jsxs)("div",{className:"text-sm text-foreground pt-3 font-semibold flex items-center gap-1",children:[E,(0,s.jsx)(P.Bc,{children:(0,s.jsxs)(P.m_,{children:[(0,s.jsx)(P.k$,{asChild:!0,children:(0,s.jsx)(F.A,{className:"h-3.5 w-3.5 text-muted-foreground cursor-help"})}),(0,s.jsx)(P.ZI,{side:"top",className:"max-w-xs",children:(0,s.jsx)("p",{children:"The counts reflect the current data snapshot. The shared data will continue to update over time."})})]})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"quickTarget",className:"text-xs font-medium text-muted-foreground",children:"Datashare destination*"}),(0,s.jsxs)($.l6,{value:j,onValueChange:b,children:[(0,s.jsx)($.bq,{id:"quickTarget",className:"mt-1",children:(0,s.jsx)($.yv,{placeholder:"Select data warehouse"})}),(0,s.jsx)($.gC,{children:J.Gl.map(e=>(0,s.jsx)($.eb,{value:e.id,children:e.name},e.id))})]})]})]}),(0,s.jsxs)(z.Es,{className:"p-6 border-t bg-muted/30",children:[(0,s.jsx)(l.$,{type:"button",variant:"outline",onClick:a,children:"CANCEL"}),(0,s.jsx)(l.$,{type:"button",onClick:()=>{if(!x||!j){alert("Dataset name and target are required.");return}let e=J.Gl.find(e=>e.id===j);e&&(p(x,g,e,v,w),S({title:"Data sharing is activated",description:"To manage sharing, visit Data out application",action:(0,s.jsx)(l.$,{variant:"outline",onClick:()=>k.push("/phase1?tab=data-share"),className:"mt-2",children:"Data out application"}),duration:1e4})),a()},className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:!x||!j,children:"START SHARING"})]})]})})}var V=a(7313),q=a(5127),W=a(7150),B=a(965);let G=[{id:"profile",label:"Profile",sortable:!0},{id:"name",label:"Name",sortable:!0},{id:"lastName",label:"Last Name",sortable:!0},{id:"mobilePhone",label:"Mobile Phone",sortable:!0},{id:"addressLine1",label:"Address Line 1",sortable:!0},{id:"street",label:"Street",sortable:!0},{id:"state",label:"State",sortable:!0},{id:"postalCode",label:"Postal Code",sortable:!0},{id:"country",label:"Country",sortable:!0}];function M(e){let{items:t,itemsPerPage:a=10}=e,[n,r]=(0,i.useState)(new Set),[c,d]=(0,i.useState)(1),[p,u]=(0,i.useState)({key:null,direction:"ascending"}),m=(0,i.useMemo)(()=>{let e=[...t];return p.key&&e.sort((e,t)=>{let a=e[p.key],s=t[p.key];return null==a?1:null==s?-1:a<s?"ascending"===p.direction?-1:1:a>s?"ascending"===p.direction?1:-1:0}),e},[t,p]),h=Math.ceil(m.length/a),x=(0,i.useMemo)(()=>{let e=(c-1)*a;return m.slice(e,e+a)},[m,c,a]),f=e=>{let t=new Set(n);t.has(e)?t.delete(e):t.add(e),r(t)},g=e=>{let t="ascending";p.key===e&&"ascending"===p.direction&&(t="descending"),u({key:e,direction:t})},y=x.length>0&&x.every(e=>n.has(e.profile)),b=x.some(e=>n.has(e.profile));return(0,i.useEffect)(()=>{c>h&&h>0?d(h):0===h&&1!==c&&d(1)},[t,h,c]),(0,s.jsxs)("div",{className:"bg-card rounded-lg shadow-sm border",children:[(0,s.jsxs)(q.XI,{children:[(0,s.jsx)(q.A0,{children:(0,s.jsxs)(q.Hj,{children:[(0,s.jsx)(q.nd,{className:"w-[50px]",children:(0,s.jsx)(o.S,{checked:!!y||!!b&&"indeterminate",onCheckedChange:e=>{!0===e?r(new Set(x.map(e=>e.profile))):r(new Set)},"aria-label":"Select all rows on current page"})}),G.map(e=>(0,s.jsx)(q.nd,{children:(0,s.jsxs)(l.$,{variant:"ghost",onClick:()=>e.sortable&&g(e.id),className:"px-1 py-1 h-auto font-medium hover:bg-muted",children:[e.label,e.sortable&&(0,s.jsx)(W.A,{className:"ml-2 h-3 w-3 text-muted-foreground"})]})},e.id))]})}),(0,s.jsx)(q.BF,{children:x.length>0?x.map(e=>(0,s.jsxs)(q.Hj,{"data-state":n.has(e.profile)?"selected":"",children:[(0,s.jsx)(q.nA,{children:(0,s.jsx)(o.S,{checked:n.has(e.profile),onCheckedChange:()=>f(e.profile),"aria-label":"Select row for profile ".concat(e.profile)})}),G.map(t=>(0,s.jsx)(q.nA,{className:"text-xs text-foreground py-2",children:e[t.id]||"-"},"".concat(e.profile,"-").concat(t.id)))]},e.profile)):(0,s.jsx)(q.Hj,{children:(0,s.jsx)(q.nA,{colSpan:G.length+1,className:"h-24 text-center text-muted-foreground",children:"No results found."})})})]}),h>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-t",children:[(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[n.size," of ",t.length," row(s) selected."]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Page ",c," of ",h]}),(0,s.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>d(e=>Math.max(1,e-1)),disabled:1===c,className:"h-8 w-8 p-0",children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,s.jsx)(B.A,{className:"h-4 w-4"})]}),(0,s.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>d(e=>Math.min(h,e+1)),disabled:c===h,className:"h-8 w-8 p-0",children:[(0,s.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,s.jsx)(j.A,{className:"h-4 w-4"})]})]})]})]})}var U=a(8186),Q=a(3203),Y=a(7597),_=a(8086),H=a(3911);let X=[{id:"configureData",label:"Configure data"},{id:"reviewDataset",label:"Review dataset"},{id:"configuration",label:"Export configuration"}];function K(e){let{isOpen:t,onClose:a,onExportCreated:o,initialSelectedEntityTypes:c=[],initialIncludeRelationships:d=!1,initialIncludeInteractions:p=!1,initialFileFormat:u="",initialDestination:m="",initialWhenToExport:h="",flowType:x="quick"}=e,f=(0,n.useSearchParams)(),g=(0,n.useRouter)(),{toast:y}=(0,r.dj)(),[j,b]=(0,i.useState)("configureData"),[v,N]=(0,i.useState)(()=>({selectedDataTypes:[{id:"entities",name:"Entities",selected:!0},{id:"relationships",name:"Relationships",selected:!0},{id:"interactions",name:"Interactions",selected:!0},{id:"other",name:"Other Data Types",selected:!0}],entityTypes:J.V.map(e=>({...e,selected:["organization","supplier","product"].includes(e.id)})),relationshipTypes:J.YS.map(e=>({...e,selected:null!=d&&d})),interactionTypes:J.K9.map(e=>({...e,selected:null!=p&&p})),otherDataTypes:J.el.map(e=>({...e,selected:!1})),jobName:"Export organizations, suppliers, products data",dataWithChanges:"all",fileFormat:"CSV",destination:"Direct download",whenToExport:"Export now"}));(0,i.useEffect)(()=>{if(j){let e=new URL(window.location.href);e.searchParams.set("step",j),window.history.replaceState({},"",e.toString())}},[j]);let w=(0,i.useCallback)(e=>{N(t=>({...t,...e}))},[]),T=(0,i.useCallback)(e=>{N(t=>({...t,entityTypes:t.entityTypes.map(t=>t.id===e?{...t,selected:!t.selected}:t)}))},[]),S=(0,i.useCallback)(e=>{N(t=>({...t,relationshipTypes:t.relationshipTypes.map(t=>t.id===e?{...t,selected:!t.selected}:t)}))},[]),D=(0,i.useCallback)(e=>{N(t=>({...t,interactionTypes:t.interactionTypes.map(t=>t.id===e?{...t,selected:!t.selected}:t)}))},[]),k=(0,i.useCallback)(e=>{N(t=>({...t,otherDataTypes:t.otherDataTypes.map(t=>t.id===e?{...t,selected:!t.selected}:t)}))},[]),C=(0,i.useCallback)((e,t,a)=>{N(s=>{let i="".concat(t,"Types");if(Array.isArray(s[i])){let t=s[i].map(t=>{if(t.id===e){let e=a.filter(e=>e.selected).length;return{...t,attributes:a,selectedAttributesCount:e}}return t});return{...s,[i]:t}}return s})},[]),A=(0,i.useCallback)((e,t)=>{if("entity"===t){if("organization"===e)return J._k;if("product"===e)return J.sW;if("supplier"===e)return J.NR}return"relationship"===t?J.Xr:"interaction"===t?J.nZ:"other"===t?J.FR:[]},[]),E=(0,i.useMemo)(()=>"reviewDataset"===j&&!(v.entityTypes.some(e=>e.selected)||v.relationshipTypes.some(e=>e.selected)||v.interactionTypes.some(e=>e.selected)||v.otherDataTypes.some(e=>e.selected)),[j,v]);if("true"===f.get("openWizard")&&f.get("step"),!t)return null;let I=j===_.o[_.o.length-1].id;return _.o.find(e=>e.id===j),(0,s.jsxs)("div",{className:"flex flex-col h-full w-full bg-background shadow-2xl",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex flex-row items-center justify-between shrink-0 relative h-[70px] bg-background sticky top-0 z-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(l.$,{variant:"ghost",size:"icon",onClick:a,className:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 w-8 h-8",children:[(0,s.jsx)(R.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,s.jsx)("span",{className:"text-lg font-semibold",children:"Export data"})]}),(0,s.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,s.jsx)(H.A,{currentStep:j,steps:X})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[j!==X[0].id&&(0,s.jsx)(l.$,{variant:"outline",onClick:()=>{"reviewDataset"===j?b("configureData"):"configuration"===j&&b("reviewDataset")},className:"px-6 py-2 h-auto",children:"Back"}),(0,s.jsx)(l.$,{variant:"outline",onClick:()=>{console.log("Export configuration saved (mock):",v),alert("Export configuration saved (mock).")},className:"px-6 py-2 h-auto",children:"Save"}),I?(0,s.jsx)(l.$,{onClick:()=>{console.log("Initiating export with config:",v),o&&(o({id:"exp-".concat(Date.now()),name:v.jobName||"New Export Job ".concat(new Date().toLocaleString()),status:"Yet to start",statusColor:"gray",createdBy:"Current User (Mock)",exportDestination:v.destination||"Unknown Destination",schedule:"Export now"===v.whenToExport?"One time":v.whenToExport||"Unknown Schedule",actionIcons:["view","play","download","copy"],summary:{dataTypes:v.selectedDataTypes.filter(e=>e.selected).map(e=>e.name).join(", ")||"No data types selected"}}),y({title:"Export job started",description:"Your export job is now underway and will be ready in about 34 minutes. We'll notify you once it's done.",action:(0,s.jsx)(l.$,{variant:"outline",onClick:()=>g.push("/phase1?tab=data-export"),className:"mt-2",children:"View export jobs"}),duration:1e4})),a()},disabled:E,className:"px-6 py-2 h-auto",children:"Export"}):(0,s.jsx)(l.$,{onClick:()=>{"configureData"===j?b("reviewDataset"):"reviewDataset"===j&&b("configuration")},disabled:E,className:"px-6 py-2 h-auto",children:"Continue"})]})]}),(0,s.jsx)("div",{className:"flex-grow overflow-y-auto bg-background p-6",children:(()=>{switch(j){case"configureData":return(0,s.jsx)(U.A,{selectedDataTypes:v.selectedDataTypes,entityTypesConfig:v.entityTypes,relationshipTypesConfig:v.relationshipTypes,interactionTypesConfig:v.interactionTypes,otherDataTypesConfig:v.otherDataTypes,onEntityTypeToggle:T,onRelationshipTypeToggle:S,onInteractionTypeToggle:D,onOtherDataTypeToggle:k,onAttributesChange:C,getSampleData:A,showAllTabs:!0});case"reviewDataset":return(0,s.jsx)(Q.A,{config:{selectedDataTypes:v.selectedDataTypes,entityTypes:v.entityTypes,relationshipTypes:v.relationshipTypes,interactionTypes:v.interactionTypes,otherDataTypes:v.otherDataTypes,datasetName:v.jobName||"New Export",description:"",target:v.destination||""},getSampleData:A});case"configuration":return(0,s.jsx)(Y.A,{config:v,onConfigChange:w});default:return null}})()})]})}function Z(e){let{isOpen:t,onClose:a,onQuickExport:p,onAdvancedExportClick:u,selectedEntityTypesSummary:m=[],profilesCount:h=0,relationshipsCount:x=0,interactionsCount:f=0}=e,[g,y]=(0,i.useState)(""),[j,b]=(0,i.useState)(!0),[v,N]=(0,i.useState)(!1),[w,T]=(0,i.useState)(""),[S,k]=(0,i.useState)(""),[C,A]=(0,i.useState)(""),{toast:E}=(0,r.dj)(),I=(0,n.useRouter)();(0,i.useEffect)(()=>{t&&(y("Export organizations, suppliers, products data"),b(!0),N(!1),T("CSV Flattened"),k("Direct download"),A("Export now"))},[t]);let R=[h>0?"".concat(h.toLocaleString()," Profiles"):null,j&&x>0?"".concat(x.toLocaleString()," Relationships"):null,v&&f>0?"".concat(f.toLocaleString()," Interactions"):null].filter(Boolean).join(", "),O=(0,i.useMemo)(()=>m.filter(e=>"Customers"!==e.name&&"Assets"!==e.name),[m]);return(0,s.jsx)(z.lG,{open:t,onOpenChange:e=>{e||a()},children:(0,s.jsxs)(z.Cf,{className:"sm:max-w-2xl p-0",children:[(0,s.jsx)(z.c7,{className:"p-6 border-b",children:(0,s.jsx)(z.L3,{className:"text-lg font-semibold",children:"Quick data export"})}),(0,s.jsxs)("div",{className:"pt-4 px-6 pb-6 space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"quickExportJobName",className:"text-xs font-medium text-muted-foreground",children:"Job name*"}),(0,s.jsx)(c.p,{id:"quickExportJobName",value:g,onChange:e=>y(e.target.value),placeholder:"Enter a name for this export job"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Data to export"}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Switch to advanced mode for editing"}),(0,s.jsx)(l.$,{variant:"link",className:"p-0 h-auto text-primary font-semibold text-xs",onClick:()=>u(j,v),children:"ADVANCED EXPORT"})]})]}),(0,s.jsxs)("div",{className:"bg-muted/50 p-4 rounded-md space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Entity types:"}),O.length>0?O.map((e,t)=>(0,s.jsxs)(D,{variant:"outline",className:"font-normal bg-background text-foreground border-border",children:[e.name,void 0!==e.totalAttributes?": ".concat(e.count,"/").concat(e.totalAttributes," attributes"):" (".concat(e.count,")")]},t)):(0,s.jsx)("span",{className:"text-muted-foreground font-normal",children:"No entity types selected"})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.S,{id:"quickIncludeRelationships",checked:j,onCheckedChange:e=>b(!!e)}),(0,s.jsx)(d.J,{htmlFor:"quickIncludeRelationships",className:"text-sm font-normal text-foreground cursor-pointer",children:"Include all Relationships of selected entity profiles"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.S,{id:"quickIncludeInteractions",checked:v,onCheckedChange:e=>N(!!e)}),(0,s.jsx)(d.J,{htmlFor:"quickIncludeInteractions",className:"text-sm font-normal text-foreground cursor-pointer",children:"Include all Interactions of selected entity profiles"})]})]}),R&&(0,s.jsx)("div",{className:"text-sm text-foreground pt-3 font-semibold",children:R})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Configuration"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"quickFileFormat",className:"text-xs font-medium text-muted-foreground",children:"File format"}),(0,s.jsxs)($.l6,{value:w,onValueChange:T,children:[(0,s.jsx)($.bq,{id:"quickFileFormat",children:(0,s.jsx)($.yv,{placeholder:"Select file format"})}),(0,s.jsxs)($.gC,{children:[(0,s.jsx)($.eb,{value:"CSV Flattened",children:"CSV Flattened"}),(0,s.jsx)($.eb,{value:"CSV",children:"CSV"}),(0,s.jsx)($.eb,{value:"JSON",children:"JSON"}),(0,s.jsx)($.eb,{value:"Parquet",children:"Parquet"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"Destination"}),(0,s.jsx)("p",{className:"text-sm font-normal text-foreground",children:S})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"When to export"}),(0,s.jsx)("p",{className:"text-sm font-normal text-foreground",children:C})]})]})]})]}),(0,s.jsxs)(z.Es,{className:"p-6 border-t bg-muted/30 flex justify-end space-x-2",children:[(0,s.jsx)(l.$,{type:"button",variant:"outline",onClick:a,children:"CANCEL"}),(0,s.jsx)(l.$,{type:"button",onClick:()=>{if(!g||!w||!S||!C){alert("All fields are required.");return}p(g,j,v,w,S,C),E({title:"Export job started",description:"Your export job is now underway and will be ready in about 34 minutes. We'll notify you once it's done, so you can download the files. In the meantime, you can keep an eye on the job status.",action:(0,s.jsx)(l.$,{variant:"outline",onClick:()=>I.push("/phase1?tab=data-export"),className:"mt-2",children:"View export jobs"}),duration:1e4}),a()},className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"EXPORT"})]})]})})}var ee=a(3819),et=a(7717),ea=a(6370),es=a(3140);function ei(e){let{isOpen:t,onClose:a,onShareCreated:o,originPage:c,initialSelectedEntityTypes:d,initialIncludeRelationships:p,initialIncludeInteractions:u,initialDatasetName:m,initialDescription:h,initialTarget:x,hideSelectDataTypesStep:f}=e,g=(0,n.useSearchParams)(),y=(0,n.useRouter)(),{toast:j}=(0,r.dj)(),b="true"===g.get("showPreview");g.get("step");let v=f?[{id:"selectData",label:"Configure data"},{id:"reviewDataset",label:"Review dataset"}]:[{id:"selectDataTypes",label:"Select data types"},{id:"selectData",label:"Configure data"},{id:"reviewDataset",label:"Review dataset"}],[N,w]=(0,i.useState)(()=>{if(f)return"selectData";let e=g.get("step");return e&&v.some(t=>t.id===e)?e:"selectDataTypes"}),[T,S]=(0,i.useState)(()=>{var e,t;let a=d||(null===(e=g.get("preselectEntities"))||void 0===e?void 0:e.split(","))||["organization","supplier","product"],s=null!=p?p:"true"===g.get("includeRelationships"),i=null!=u?u:"true"===g.get("includeInteractions"),n=m||g.get("datasetName")||"",r=h||g.get("description")||"",l=x||g.get("target")||"";return f?JSON.parse(JSON.stringify(J.WG)).map(e=>"entities"===e.id?{...e,selected:a.length>0}:"relationships"===e.id?{...e,selected:!!s}:"interactions"===e.id?{...e,selected:!!i}:{...e,selected:!1}):JSON.parse(JSON.stringify(J.WG)).map(e=>({...e,selected:!1})),{selectedDataTypes:JSON.parse(JSON.stringify(J.WG)).map(e=>({...e,selected:["entities","relationships","interactions","mergeTree","matchData"].includes(e.id)})),entityTypes:JSON.parse(JSON.stringify(J.V)).map(e=>({...e,selected:["organization","supplier","product"].includes(e.id)})),relationshipTypes:JSON.parse(JSON.stringify(J.YS)).map(e=>({...e,selected:!0})),interactionTypes:JSON.parse(JSON.stringify(J.K9)).map(e=>({...e,selected:!0})),otherDataTypes:JSON.parse(JSON.stringify(J.el)).map(e=>({...e,selected:["mergeTree","matchData"].includes(e.id)})),datasetName:n||"",description:r,target:l||(null===(t=J.Gl[0])||void 0===t?void 0:t.id)||""}}),[D,k]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(t){let e=g.get("step"),t="true"===g.get("showPreview");if(f){w("selectData");let e=new URL(window.location.href);e.searchParams.set("step","configureData"),window.history.replaceState({},"",e.toString())}else"true"===g.get("openWizard")&&"configureData"===g.get("step")?w("selectData"):"reviewDataset"===e?w("reviewDataset"):t?w("reviewDataset"):w("selectDataTypes")}},[t,f]),(0,i.useEffect)(()=>{if(N){let e=new URL(window.location.href);e.searchParams.set("step","selectData"===N?"configureData":N),window.history.replaceState({},"",e.toString())}},[N]);let C=e=>{S(t=>{var a;let s=t.selectedDataTypes.map(t=>t.id===e?{...t,selected:!t.selected}:t),i=(null===(a=s.find(t=>t.id===e))||void 0===a?void 0:a.selected)||!1,n=t.entityTypes,r=t.relationshipTypes,l=t.interactionTypes,o=t.otherDataTypes;return"entities"===e?n=t.entityTypes.map(e=>({...e,selected:!!i&&e.selected})):"relationships"===e?r=t.relationshipTypes.map(e=>({...e,selected:!!i&&e.selected})):"interactions"===e?l=t.interactionTypes.map(e=>({...e,selected:!!i&&e.selected})):["mergeTree","matchData","activityLog","workflowTasks"].includes(e)&&(o=t.otherDataTypes.map(t=>t.id===e?{...t,selected:i}:t)),{...t,selectedDataTypes:s,entityTypes:n,relationshipTypes:r,interactionTypes:l,otherDataTypes:o,datasetName:t.datasetName,description:t.description,target:t.target}})},A=e=>{S(t=>({...t,entityTypes:t.entityTypes.map(t=>t.id===e?{...t,selected:!t.selected}:t)}))},E=e=>{S(t=>({...t,relationshipTypes:t.relationshipTypes.map(t=>t.id===e?{...t,selected:!t.selected}:t)}))},I=e=>{S(t=>({...t,interactionTypes:t.interactionTypes.map(t=>t.id===e?{...t,selected:!t.selected}:t)}))},z=e=>{S(t=>({...t,otherDataTypes:t.otherDataTypes.map(t=>t.id===e?{...t,selected:!t.selected}:t)}))},O=(e,t,a)=>{S(s=>{let i={...s},n=a.filter(e=>e.selected).length;switch(t){case"entity":i.entityTypes=i.entityTypes.map(t=>t.id===e?{...t,attributes:a,selectedAttributesCount:n}:t);break;case"relationship":i.relationshipTypes=i.relationshipTypes.map(t=>t.id===e?{...t,attributes:a,selectedAttributesCount:n}:t);break;case"interaction":i.interactionTypes=i.interactionTypes.map(t=>t.id===e?{...t,attributes:a,selectedAttributesCount:n}:t);break;case"other":i.otherDataTypes=i.otherDataTypes.map(t=>t.id===e?{...t,attributes:a,selectedAttributesCount:n}:t)}return i})},$=(0,i.useCallback)((e,t)=>{if("entity"===t){if("organization"===e)return J._k;if("product"===e)return J.sW;if("supplier"===e)return J.NR}return"relationship"===t?J.Xr:"interaction"===t?J.nZ:"other"===t?J.FR:[]},[]),F=()=>{w("selectData"),y.push("".concat("ai-agent-flow"===c?"/ai-agent-flow":"/phase1","?openWizard=true&step=configureData"))},P=()=>{if(!(T.entityTypes.some(e=>e.selected)||T.relationshipTypes.some(e=>e.selected)||T.interactionTypes.some(e=>e.selected)||T.otherDataTypes.some(e=>e.selected))){alert("Please select at least one item to continue.");return}w("reviewDataset"),y.replace("".concat("ai-agent-flow"===c?"/ai-agent-flow":"/phase1","?openWizard=true&step=reviewDataset"),{scroll:!1})},L=()=>{w("selectData"),y.push("".concat("ai-agent-flow"===c?"/ai-agent-flow":"/phase1","?openWizard=true&step=configureData"))},V=()=>{w("selectDataTypes"),y.push("".concat("ai-agent-flow"===c?"/ai-agent-flow":"/phase1","?openWizard=true&step=selectDataTypes"))},q=()=>{alert("Dataset configuration saved (mock).")},W=()=>{k(!0)};return t?(0,s.jsxs)("div",{className:"flex flex-col h-full w-full bg-popover shadow-2xl",children:[(0,s.jsxs)("div",{className:"p-4 border-b flex flex-row items-center justify-between shrink-0 relative h-[70px] bg-background sticky top-0 z-10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(l.$,{variant:"ghost",size:"icon",onClick:a,className:"rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 w-8 h-8",children:[(0,s.jsx)(R.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,s.jsx)("span",{className:"text-lg font-semibold",children:b?"Preview Data Share":"Create new data share"})]}),(0,s.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,s.jsx)(ea.A,{currentStep:N,steps:v})}),(0,s.jsx)("div",{className:"flex items-center",children:b?(0,s.jsx)(l.$,{onClick:a,className:"bg-foreground hover:bg-foreground/90 text-background px-6 py-2 h-auto",children:"Close Preview"}):(()=>{switch(N){case"selectDataTypes":if(f)return null;return(0,s.jsx)(l.$,{onClick:F,disabled:!T.selectedDataTypes.some(e=>e.selected),children:"Next"});case"selectData":return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[!f&&(0,s.jsx)(l.$,{variant:"outline",onClick:V,className:"px-6 py-2 h-auto",children:"Back"}),(0,s.jsx)(l.$,{onClick:P,disabled:!T.entityTypes.some(e=>e.selected)&&!T.relationshipTypes.some(e=>e.selected)&&!T.interactionTypes.some(e=>e.selected)&&!T.otherDataTypes.some(e=>e.selected),children:"Continue"})]});case"reviewDataset":return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.$,{variant:"outline",onClick:L,className:"px-6 py-2 h-auto",children:"Back"}),(0,s.jsx)(l.$,{variant:"outline",onClick:q,className:"px-6 py-2 h-auto",children:"Save"}),(0,s.jsx)(l.$,{onClick:W,children:"Share"})]});default:return(0,s.jsx)("div",{className:"w-[88px]"})}})()})]}),(0,s.jsx)("div",{className:"flex-grow overflow-y-auto bg-background",children:(()=>{switch(N){case"selectDataTypes":if(f)return null;return(0,s.jsx)(ee.A,{dataTypes:T.selectedDataTypes,onDataTypeToggle:C});case"selectData":return(0,s.jsx)(et.A,{selectedDataTypes:T.selectedDataTypes,entityTypes:T.entityTypes,relationshipTypes:T.relationshipTypes,interactionTypes:T.interactionTypes,otherDataTypes:T.otherDataTypes,onEntityTypeToggle:A,onRelationshipTypeToggle:E,onInteractionTypeToggle:I,onOtherDataTypeToggle:z,onAttributesChange:O,getSampleData:$,showAllTabs:!0});case"reviewDataset":return(0,s.jsx)(Q.A,{config:T,getSampleData:$});default:return null}})()}),!b&&"reviewDataset"===N&&(0,s.jsx)(es.A,{isOpen:D,onClose:()=>{k(!1)},onStartSharing:(e,t,i)=>{o({id:Date.now().toString(),name:e,description:t,createdBy:"current.user",shareDestination:i.name,sharingStatus:"Active",summary:{profiles:T.entityTypes.filter(e=>e.selected).reduce((e,t)=>e+t.count,0),relationships:T.relationshipTypes.filter(e=>e.selected).reduce((e,t)=>e+t.count,0),interactions:T.interactionTypes.filter(e=>e.selected).reduce((e,t)=>e+t.count,0),otherData:T.otherDataTypes.filter(e=>e.selected).reduce((e,t)=>e+t.count,0)}}),k(!1),j({title:"Data sharing activated",description:"You can manage it from the data share page",action:(0,s.jsx)(l.$,{variant:"outline",onClick:()=>y.push("/phase1?tab=data-share"),className:"mt-2",children:"View data shares"}),duration:5e3}),a()},initialDatasetName:T.datasetName,initialDescription:T.description,initialTargetId:T.target})]}):null}function en(){let[e,t]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[p,u]=(0,i.useState)({initialSelectedEntityTypes:["organizations","products","suppliers"],initialIncludeRelationships:!0,initialIncludeInteractions:!1,initialFileFormat:"CSV Flattened",initialDestination:"Direct download",initialWhenToExport:"Export now"}),[m,h]=(0,i.useState)(J.zm),{toast:x}=(0,r.dj)(),f=(0,n.useRouter)(),g=[{id:"type",display:"Type: Organizations, Products, Suppliers"},{id:"country",display:"Country: US"}],[y,j]=(0,i.useState)(!1),[b,v]=(0,i.useState)({initialSelectedEntityTypes:["organizations","products","suppliers"],initialIncludeRelationships:!1,initialIncludeInteractions:!1,initialDatasetName:"",initialDescription:"",initialTarget:""}),N=[{value:"organizations",label:"Organizations",count:512},{value:"products",label:"Products",count:301},{value:"suppliers",label:"Suppliers",count:243}],S=N.filter(e=>["organizations","products","suppliers"].includes(e.value)).map(e=>{let t=J.V.find(t=>t.id===e.value);return{name:e.label,count:e.count,totalAttributes:null==t?void 0:t.attributes.length}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex h-[calc(100vh-var(--header-height,60px))]",children:[(0,s.jsx)(w,{}),(0,s.jsx)(T.w,{orientation:"vertical",className:"h-full"}),(0,s.jsxs)("main",{className:"flex-1 p-6 overflow-y-auto bg-background flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("p",{className:"text-sm text-foreground font-medium",children:[1304..toLocaleString()," ",(0,s.jsx)("span",{className:"text-muted-foreground font-normal",children:"total profiles"})]}),g.length>0&&(0,s.jsx)(l.$,{variant:"link",className:"p-0 h-auto text-primary text-xs font-semibold",children:"CLEAR"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsxs)(l.$,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",title:"Download",onClick:()=>o(!0),children:[(0,s.jsx)(k.A,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"sr-only",children:"Download"})]}),(0,s.jsxs)(l.$,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",title:"Quick Data Share",onClick:()=>t(!0),children:[(0,s.jsx)(C.A,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"sr-only",children:"Quick Data Share"})]}),(0,s.jsxs)(l.$,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",title:"Save Search",children:[(0,s.jsx)(A.A,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"sr-only",children:"Save Search"})]}),(0,s.jsxs)(l.$,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",title:"More options",children:[(0,s.jsx)(E.A,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"sr-only",children:"More options"})]}),(0,s.jsx)(T.w,{orientation:"vertical",className:"h-6 mx-2"}),(0,s.jsxs)(l.$,{variant:"outline",size:"sm",className:"text-xs",children:[(0,s.jsx)(I.A,{className:"mr-2 h-5 w-5"}),"SAVED & RECENT SEARCHES"]})]})]}),g.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:g.map(e=>(0,s.jsxs)(D,{variant:"outline",className:"bg-muted/60 text-foreground border-border py-1 px-3 text-xs font-normal flex items-center rounded-full hover:bg-muted",children:[e.display,(0,s.jsxs)("button",{className:"ml-2 text-muted-foreground hover:text-foreground",children:[(0,s.jsx)(R.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"sr-only",children:"Remove filter"})]})]},e.id))}),(0,s.jsxs)(V.tU,{defaultValue:"organizations",className:"flex-grow flex flex-col mt-4",children:[(0,s.jsx)(V.j7,{className:"bg-transparent p-0 h-auto border-b justify-start",children:N.map(e=>(0,s.jsxs)(V.Xi,{value:e.value,className:"text-sm px-3 py-1.5 data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:font-semibold data-[state=active]:shadow-none rounded-none text-muted-foreground hover:text-primary border-b-2 border-transparent",children:[e.label," (",e.count,")"]},e.value))}),(0,s.jsx)("div",{className:"flex-grow mt-4 overflow-hidden",children:N.map(e=>(0,s.jsx)(V.av,{value:e.value,className:"h-full",children:(0,s.jsx)(M,{items:m})},e.value))})]})]})]}),(0,s.jsx)(L,{isOpen:e,onClose:()=>t(!1),onStartSharing:(e,a,i,n,r)=>{console.log("Quick Share Started:",{datasetName:e,description:a,targetName:i.name,totalProfiles:1304,includeRelationships:n,includeInteractions:r});let o={id:Date.now().toString(),name:e,description:a||"Quick share of ".concat(1304," profiles"),createdBy:"search.user",shareDestination:i.name,sharingStatus:"Active",summary:{profiles:1304,relationships:567*!!n,interactions:5638*!!r}};sessionStorage.setItem("newlyCreatedShare",JSON.stringify(o)),x({title:"Data sharing is activated",description:"To manage sharing, visit Data exchange",action:(0,s.jsx)(l.$,{variant:"outline",onClick:()=>f.push("/phase1?tab=data-share"),className:"mt-2",children:"Data exchange"}),duration:1e4}),t(!1)},totalProfiles:1304,entityTypeSummaries:[{name:"Organizations",selectedAttributes:12,totalAttributes:23},{name:"Products",selectedAttributes:12,totalAttributes:33},{name:"Suppliers",selectedAttributes:10,totalAttributes:15}],onAdvancedShareClick:(e,a)=>{t(!1),v({initialSelectedEntityTypes:["organizations","products","suppliers"],initialIncludeRelationships:e,initialIncludeInteractions:a,initialDatasetName:"Organizations, suppliers and products data share",initialDescription:"",initialTarget:""}),setTimeout(()=>j(!0),0)}}),(0,s.jsx)(Z,{isOpen:a,onClose:()=>o(!1),onQuickExport:(e,t,a,s,i,n)=>{console.log("Quick Export Initiated:",{jobName:e,includeRelationships:t,includeInteractions:a,fileFormat:s,destination:i,whenToExport:n});let r={id:"quick-exp-".concat(Date.now()),name:e||"Quick Export Job ".concat(new Date().toLocaleString()),status:"Yet to start",statusColor:"gray",createdBy:"search.user (Mock)",exportDestination:i||"Direct download",schedule:"Export now"===n?"One time":n||"Unknown Schedule",actionIcons:["view","download","copy"]};o(!1),x({description:"Quick export job '".concat(e,"' initiated."),duration:3e3}),console.log("Mock Export Job created:",r)},onAdvancedExportClick:(e,t)=>{o(!1),u({initialSelectedEntityTypes:S.map(e=>e.name.toLowerCase()),initialIncludeRelationships:e,initialIncludeInteractions:t,initialFileFormat:"CSV Flattened",initialDestination:"Direct download",initialWhenToExport:"Export now"}),setTimeout(()=>d(!0),0)},selectedEntityTypesSummary:S,profilesCount:1304,relationshipsCount:278,interactionsCount:1356}),c&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-background",children:(0,s.jsx)("div",{className:"w-full h-full overflow-hidden",children:(0,s.jsx)(K,{isOpen:!0,onClose:()=>d(!1),onExportCreated:e=>{d(!1),x({description:"Export job '".concat(e.name,"' created."),duration:3e3})},...p})})}),y&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-background",children:(0,s.jsx)("div",{className:"w-full h-full overflow-hidden",children:(0,s.jsx)(ei,{isOpen:!0,onClose:()=>j(!1),onShareCreated:()=>j(!1),originPage:"phase1",initialSelectedEntityTypes:b.initialSelectedEntityTypes,initialIncludeRelationships:b.initialIncludeRelationships,initialIncludeInteractions:b.initialIncludeInteractions,initialDatasetName:b.initialDatasetName,initialDescription:b.initialDescription,initialTarget:b.initialTarget,hideSelectDataTypesStep:!0})})})]})}function er(){return(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{children:"Loading..."}),children:(0,s.jsx)(en,{})})}},2346:(e,t,a)=>{"use strict";a.d(t,{w:()=>l});var s=a(5155),i=a(2115),n=a(7489),r=a(9434);let l=i.forwardRef((e,t)=>{let{className:a,orientation:i="horizontal",decorative:l=!0,...o}=e;return(0,s.jsx)(n.b,{ref:t,decorative:l,orientation:i,className:(0,r.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",a),...o})});l.displayName=n.b.displayName},5134:(e,t,a)=>{Promise.resolve().then(a.bind(a,2165))}},e=>{var t=t=>e(e.s=t);e.O(0,[668,46,687,445,613,969,172,444,164,18,515,908,441,684,358],()=>t(5134)),_N_E=e.O()}]);