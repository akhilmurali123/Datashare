"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{3203:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(5155),r=s(285),l=s(5127),i=s(1409),n=s(6990),o=s(2115),c=s(7607);function d(e){var t,s,d,m;let{config:h,getSampleData:u}=e,[x,p]=(0,o.useState)(!1),[f,j]=(0,o.useState)(null),[g,y]=(0,o.useState)(!1),[b,N]=(0,o.useState)(null),v={profiles:h.entityTypes.filter(e=>e.selected).reduce((e,t)=>e+t.count,0),relationships:h.relationshipTypes.filter(e=>e.selected).reduce((e,t)=>e+t.count,0),interactions:h.interactionTypes.filter(e=>e.selected).reduce((e,t)=>e+t.count,0),otherData:h.otherDataTypes.filter(e=>e.selected).reduce((e,t)=>e+t.count,0)},S={mergeTrees:null!==(d=null===(t=h.otherDataTypes.find(e=>"mergeTree"===e.id&&e.selected))||void 0===t?void 0:t.count)&&void 0!==d?d:0,matchData:null!==(m=null===(s=h.otherDataTypes.find(e=>"matchData"===e.id&&e.selected))||void 0===s?void 0:s.count)&&void 0!==m?m:0};S.mergeTrees,S.matchData;let T=[v.profiles>0&&"".concat(v.profiles.toLocaleString()," Profiles"),v.relationships>0&&"".concat(v.relationships.toLocaleString()," Relationships"),v.interactions>0&&"".concat(v.interactions.toLocaleString()," Interactions"),S.mergeTrees>0&&"".concat(S.mergeTrees.toLocaleString()," Merge trees"),S.matchData>0&&"".concat(S.matchData.toLocaleString()," Match data")].filter(Boolean).join(", "),A=(0,o.useMemo)(()=>[...h.entityTypes.filter(e=>e.selected),...h.relationshipTypes.filter(e=>e.selected),...h.interactionTypes.filter(e=>e.selected),...h.otherDataTypes.filter(e=>e.selected)],[h]),w=e=>{e.selected&&(j(e),p(!0))},C=e=>{N(e),y(!0)},D=(e,t,s)=>{let r=t.filter(e=>e.selected);return 0===r.length?null:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"text-lg font-semibold",children:e})})}),(0,a.jsx)("div",{className:"border rounded-lg",children:(0,a.jsxs)(l.XI,{children:[(0,a.jsx)(l.A0,{children:(0,a.jsxs)(l.Hj,{children:[(0,a.jsx)(l.nd,{children:"Name"}),(0,a.jsx)(l.nd,{children:"Count"}),(0,a.jsx)(l.nd,{className:"text-right",children:"Attributes"}),(0,a.jsx)(l.nd,{})]})}),(0,a.jsx)(l.BF,{children:r.map(e=>(0,a.jsxs)(l.Hj,{children:[(0,a.jsx)(l.nA,{className:"font-medium",children:e.name}),(0,a.jsx)(l.nA,{children:e.count.toLocaleString()}),(0,a.jsx)(l.nA,{className:"text-right",children:e.totalAttributes>0?(0,a.jsxs)("button",{className:"underline hover:text-primary focus:text-primary cursor-pointer bg-transparent border-0 p-0 m-0 text-inherit",onClick:()=>C(e),disabled:!e.selected,children:[e.selectedAttributesCount,"/",e.totalAttributes]}):"N/A"}),(0,a.jsx)(l.nA,{className:"text-center",children:(0,a.jsx)("button",{className:"hover:text-primary focus:text-primary cursor-pointer bg-transparent border-0 p-0 m-0 text-inherit",onClick:()=>w(e),disabled:!e.selected,title:"Preview data",children:(0,a.jsx)(c.A,{className:"w-5 h-5"})})})]},e.id))})]})})]})};return(0,a.jsxs)("div",{className:"flex flex-col h-full p-6 bg-background",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Note: All counts reflect the current data snapshot. The shared data will continue to update over time."}),(0,a.jsxs)("div",{className:"flex justify-between items-start pt-2 pb-4 border-b",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Review dataset"}),T&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:T})]}),(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>p(!0),disabled:0===A.length,children:[(0,a.jsx)(c.A,{className:"mr-2 h-4 w-4"})," View Sample Data"]})]}),(0,a.jsxs)("div",{className:"flex-grow overflow-y-auto pt-2 -mx-2 px-2",children:[D("Entity profiles",h.entityTypes,v.profiles),D("Relationships",h.relationshipTypes,v.relationships),D("Interactions",h.interactionTypes,v.interactions),D("Other data types",h.otherDataTypes,v.otherData)]}),x&&(0,a.jsx)(i.A,{isOpen:x,onClose:()=>{p(!1),j(null)},selectedItems:A,getSampleData:u,showCategoryDropdown:!0}),g&&b&&(0,a.jsx)(n.A,{isOpen:g,onClose:()=>{y(!1),N(null)},item:b})]})}},5057:(e,t,s)=>{s.d(t,{J:()=>c});var a=s(5155),r=s(2115),l=s(968),i=s(2085),n=s(9434);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,n.cn)(o(),s),...r})});c.displayName=l.b.displayName},5071:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(5155),r=s(285),l=s(7262),i=s(2523),n=s(5057),o=s(6424),c=s(8382),d=s(9409),m=s(2115),h=s(5074);function u(e){let{isOpen:t,onClose:s,items:u,activeItem:x,onActiveItemChange:p,onAttributesChange:f,onSave:j}=e,[g,y]=(0,m.useState)(""),b=(0,m.useMemo)(()=>u.find(e=>e.id===(null==x?void 0:x.id)&&e.category===(null==x?void 0:x.category)),[u,x]),[N,v]=(0,m.useState)([]);(0,m.useEffect)(()=>{b?v(JSON.parse(JSON.stringify(b.attributes))):v([])},[b]);let S=(0,m.useMemo)(()=>{if(!N)return{common:[],system:[],other:[]};let e=g.toLowerCase(),t={common:[],system:[],other:[]};return N.forEach(s=>{s.name.toLowerCase().includes(e)&&("common"===s.category?t.common.push(s):"system"===s.category?t.system.push(s):t.other.push(s))}),t},[N,g]),T=(0,m.useMemo)(()=>N.filter(e=>e.selected).length,[N]),A=(0,m.useMemo)(()=>N.length,[N]),w=e=>{v(t=>t.map(t=>t.id===e?{...t,selected:!t.selected}:t))},C=e=>{v(t=>t.map(t=>({...t,selected:e})))};return(0,a.jsx)(c.cj,{open:t,onOpenChange:e=>!e&&s(),children:(0,a.jsxs)(c.h,{className:"sm:max-w-md w-full flex flex-col p-0",children:[(0,a.jsxs)(c.Fm,{className:"p-6 border-b",children:[(0,a.jsx)(c.qp,{children:"Attributes"}),(0,a.jsx)(c.Qs,{children:"Select attributes for the chosen item."})]}),(0,a.jsxs)("div",{className:"p-6 flex-grow overflow-hidden flex flex-col gap-4",children:[(0,a.jsxs)(d.l6,{value:x?"".concat(x.id,":").concat(x.category):"",onValueChange:e=>{let[t,s]=e.split(":");p(t,s)},children:[(0,a.jsx)(d.bq,{children:(0,a.jsx)(d.yv,{placeholder:"Select item type"})}),(0,a.jsx)(d.gC,{children:u.map(e=>(0,a.jsxs)(d.eb,{value:"".concat(e.id,":").concat(e.category),children:[e.name," (",e.category,")"]},"".concat(e.id,":").concat(e.category)))})]}),b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:(0,a.jsxs)("span",{children:[T,"/",A," selected"]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(i.p,{type:"search",placeholder:"Search attributes...",value:g,onChange:e=>y(e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 py-2 border-b",children:[(0,a.jsx)(l.S,{id:"select-all-attrs",checked:A>0&&T===A,onCheckedChange:e=>C(!!e),disabled:0===A}),(0,a.jsx)(n.J,{htmlFor:"select-all-attrs",className:"font-medium",children:"Select all"})]}),(0,a.jsx)(o.F,{className:"flex-grow -mx-6 px-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[Object.entries(S).map(e=>{let[t,s]=e;if("other"===t||0===s.length&&g)return null;let r="other"===t?"Custom":t.charAt(0).toUpperCase()+t.slice(1);return(s.length>0||!g)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-foreground mb-2 capitalize",children:[r," attributes"]}),s.length>0?s.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 py-1.5",children:[(0,a.jsx)(l.S,{id:"attr-".concat(e.id),checked:e.selected,onCheckedChange:()=>w(e.id),"aria-labelledby":"label-attr-".concat(e.id)}),(0,a.jsx)(n.J,{htmlFor:"attr-".concat(e.id),id:"label-attr-".concat(e.id),className:"text-sm font-normal text-foreground flex-grow cursor-pointer",children:e.name})]},e.id)):g&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["No ",r.toLowerCase()," attributes match your search."]}),!g&&0===s.length&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["No ",r.toLowerCase()," attributes defined."]})]},t)}),0===N.length&&!g&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No attributes available for this item."})]})})]}),!b&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-10",children:"Select an item to see attributes."})]}),(0,a.jsxs)(c.XW,{className:"p-6 border-t mt-auto",children:[(0,a.jsx)(c.kN,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"outline",onClick:s,children:"Cancel"})}),(0,a.jsx)(r.$,{onClick:()=>{x&&x.id&&x.category&&f(x.id,x.category,N),j()},className:"bg-primary hover:bg-primary/90 text-primary-foreground",disabled:!x,children:"Save Changes"})]})]})})}},6102:(e,t,s)=>{s.d(t,{Bc:()=>n,ZI:()=>d,k$:()=>c,m_:()=>o});var a=s(5155),r=s(2115),l=s(9613),i=s(9434);let n=l.Kq,o=l.bL,c=l.l9,d=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});d.displayName=l.UC.displayName},7481:(e,t,s)=>{s.d(t,{dj:()=>h});var a=s(2115);let r=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=n(c,e),o.forEach(e=>{e(c)})}function m(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,t]=a.useState(c);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}}}]);